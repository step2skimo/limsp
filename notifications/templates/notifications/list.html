{% load humanize %}
<!DOCTYPE html>
<html>
<head>
  <title>ğŸ›ï¸ Notifications</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body class="bg-light p-4">

  <div class="container">
    <h2 class="mb-3">ğŸ”” Your Notifications</h2>

    <div class="d-flex justify-content-between align-items-center mb-3">
      <a href="{% url 'notifications:mark_all_read' %}" class="btn btn-outline-secondary btn-sm">ğŸ“­ Mark All as Read</a>
      <a href="javascript:history.back()" class="btn btn-link btn-sm">â¬… Back</a>
    </div>

    {% if notifications %}
      <table class="table table-bordered table-hover bg-white">
        <thead class="table-light">
          <tr>
            <th>Message</th>
            <th>Received</th>
            <th>Status</th>
          </tr>
        </thead>
        <tbody>
          {% for note in notifications %}
            <tr class="{% if not note.read %}table-warning{% endif %}">
              <td>
                <a href="{% url 'notifications:detail' note.id %}" class="text-decoration-none">
                  {{ note.message|truncatewords:18 }}
                </a>
              </td>
              <td>{{ note.created_at|naturaltime }}</td>
              <td>
                {% if note.read %}
                  âœ… Read
                {% else %}
                  ğŸŸ¡ Unread
                {% endif %}
              </td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    {% else %}
      <div class="alert alert-success text-center">
        ğŸ‰ You're all caught up â€” no new notifications!
      </div>
    {% endif %}
  </div>

</body>
</html>
